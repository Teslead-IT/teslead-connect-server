# .env.example
# Copy this file to .env and fill in your actual values
# This file documents all required environment variables

# ────────────────────────────────────
# APPLICATION CONFIGURATION
# ────────────────────────────────────

# Server port
PORT=3000

# Environment: production, development, test
NODE_ENV=development

# Logging level: error, warn, info, debug, trace
LOG_LEVEL=info

# ────────────────────────────────────
# DATABASE CONFIGURATION
# ────────────────────────────────────

# PostgreSQL connection URL
# Format: postgresql://username:password@host:port/database?schema=public
DATABASE_URL=postgresql://postgres:password@localhost:5432/project_management_db?schema=public

# Run database migrations on startup
# Set to true for first deployment or after new migrations
# Set to false for subsequent deployments (safer)
DB_MIGRATE=false

# ────────────────────────────────────
# AUTHENTICATION CONFIGURATION
# ────────────────────────────────────

# JWT secret key for signing tokens
# IMPORTANT: Change this to a secure random string in production
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production-openssl-rand-base64-32

# JWT expiration time
# Format: 1d, 24h, 3600s, etc.
JWT_EXPIRES_IN=1d

# Bcrypt salt rounds (higher = slower but more secure)
# Recommended: 12 for production, 10 for development
BCRYPT_SALT_ROUNDS=12

# ────────────────────────────────────
# AUTH0 CONFIGURATION
# ────────────────────────────────────

# Auth0 Domain (from Auth0 Dashboard → Applications → Your App)
AUTH0_DOMAIN=your-tenant.auth0.com

# Auth0 Audience (API Identifier from Auth0 Dashboard → APIs)
AUTH0_AUDIENCE=https://your-api-identifier

# Auth0 Client ID (from Auth0 Dashboard → Applications → Your App)
AUTH0_CLIENT_ID=your-client-id

# Auth0 Client Secret (from Auth0 Dashboard → Applications → Your App)
AUTH0_CLIENT_SECRET=your-client-secret

# ────────────────────────────────────
# CORS CONFIGURATION
# ────────────────────────────────────

# Allowed origins for CORS (comma-separated)
# Use * for development, specific origins for production
CORS_ORIGIN=http://localhost:3001,https://yourdomain.com

# ────────────────────────────────────
# MULTI-TENANCY CONFIGURATION
# ────────────────────────────────────

# Default tenant ID if not specified in requests
DEFAULT_TENANT_ID=default-tenant

# ────────────────────────────────────
# PRODUCTION SAFETY CHECKLIST
# ────────────────────────────────────
# 
# Before deploying to production:
# 
# 1. Change JWT_SECRET to a random value
#    Generate with: openssl rand -base64 32
# 
# 2. Set NODE_ENV=production
# 
# 3. Use a secure PostgreSQL instance (managed service recommended)
#    - Enable SSL/TLS
#    - Use strong password
#    - Restrict network access
# 
# 4. Set DB_MIGRATE=false (migrations already deployed)
#    - Run migrations in a separate step before deployment
#    - Use: npm run prisma:deploy
# 
# 5. Enable HTTPS in your reverse proxy (nginx, Caddy, etc.)
# 
# 6. Set LOG_LEVEL=warn or error in production
# 
# 7. Implement rate limiting
# 
# 8. Monitor logs and database performance
# 
# 9. Set up automated backups for database
# 
# 10. Review RBAC roles and permissions
